import*as aa from"lodash/get";import*as q from"react";import*as te from"react-router-dom";import*as ze from"axios";import*as ra from"react-intl";import*as Ve from"qs";import*as na from"lodash/isEmpty";import*as oa from"lodash/pickBy";import*as sa from"lodash/transform";import*as la from"lodash/isNil";import*as ia from"lodash/upperFirst";import*as ua from"immer";import*as ca from"prop-types";import*as h from"@strapi/design-system";import*as He from"styled-components";import*as j from"@strapi/icons";import*as da from"date-fns/parseISO";import*as fa from"date-fns/formatISO";import*as pa from"react-helmet";import*as Xe from"formik";import*as Ke from"date-fns";import*as Je from"react-select";import*as Ze from"@strapi/design-system/v2";import*as _a from"lodash/isEqual";import*as ma from"lodash/isObject";import*as ga from"lodash/startsWith";var k={};(function(){k.d=function(e,t){for(var a in t)k.o(t,a)&&!k.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}})(),function(){k.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}();var f={};k.d(f,{Hn:function(){return dn},NY:function(){return et},Uu:function(){return tt},O4:function(){return Hr},jW:function(){return Xr},QH:function(){return Le},Y_:function(){return en},W1:function(){return Qt},MG:function(){return jr},xZ:function(){return Qn},tM:function(){return on},c4:function(){return It},x7:function(){return Pt},W$:function(){return An},J5:function(){return $n},l0:function(){return qn},jm:function(){return xn},Zc:function(){return Br},XL:function(){return Ln},rt:function(){return qr},rU:function(){return lo},Qj:function(){return uo},dO:function(){return Ct},dJ:function(){return sn},Hz:function(){return un},ZF:function(){return cn},X0:function(){return Rn},cJ:function(){return ue},N$:function(){return Ur},vG:function(){return at},v4:function(){return Un},tU:function(){return jn},oL:function(){return rt},JV:function(){return no},ij:function(){return Yn},fG:function(){return po},m:function(){return Mn},SL:function(){return In},fz:function(){return Mt},qb:function(){return On},t3:function(){return Fo},_Y:function(){return Wr},Ui:function(){return ce},L8:function(){return Qr},I8:function(){return V},w6:function(){return Mo},e5:function(){return qo},ZT:function(){return yt},dU:function(){return Co},nn:function(){return Ko},tg:function(){return Ee},mD:function(){return Oo},k2:function(){return X},UN:function(){return ie},CJ:function(){return es},qX:function(){return oe},OT:function(){return pe},X7:function(){return Ao},CR:function(){return Eo},jV:function(){return bo},Q1:function(){return Q},WY:function(){return Xo},YB:function(){return ko},UW:function(){return Gt},to:function(){return xo},I0:function(){return So},So:function(){return Va},QI:function(){return ot},Vu:function(){return tr},Wq:function(){return go},Xe:function(){return ft},mZ:function(){return $a},kY:function(){return $r},L0:function(){return Ha},go:function(){return Or},c1:function(){return Ra},yX:function(){return Aa},F5:function(){return Fr},lm:function(){return de},o1:function(){return Za},Yw:function(){return Mr},aM:function(){return Ma},Kx:function(){return Y},ss:function(){return Pr},vn:function(){return ae},Uq:function(){return Wa},j1:function(){return ut},rS:function(){return K},Od:function(){return Uo}});var va=e=>{var t={};return k.d(t,e),t},Dl=e=>()=>e,H=va({default:()=>aa.default});const ie=(e,t)=>(0,H.default)(e,["attributes",t,"type"],""),X=(e,t)=>(0,H.default)(e,["attributes",...t],"");var Ea=e=>{var t={};return k.d(t,e),t},$l=e=>()=>e,n=Ea({Children:()=>q.Children,cloneElement:()=>q.cloneElement,createContext:()=>q.createContext,default:()=>q.default,useCallback:()=>q.useCallback,useContext:()=>q.useContext,useEffect:()=>q.useEffect,useLayoutEffect:()=>q.useLayoutEffect,useMemo:()=>q.useMemo,useReducer:()=>q.useReducer,useRef:()=>q.useRef,useState:()=>q.useState});const ha=(0,n.createContext)();var et=ha;const ba=(0,n.createContext)();var tt=ba;const ya=(0,n.createContext)();var ue=ya;const xa=(0,n.createContext)();var at=xa;const Ta=(0,n.createContext)();var rt=Ta;const ka=(0,n.createContext)();var ce=ka;const La=(0,n.createContext)();var nt=La;const Sa=()=>(0,n.useContext)(nt);var Ra=Sa;const Ca=()=>(0,n.useContext)(et);var ot=Ca,Pa=e=>{var t={};return k.d(t,e),t},Nl=e=>()=>e,A=Pa({NavLink:()=>te.NavLink,Redirect:()=>te.Redirect,useHistory:()=>te.useHistory,useLocation:()=>te.useLocation});const Ia=()=>new URLSearchParams((0,A.useLocation)().search);var Ma=Ia;const wa=(0,n.createContext)();var st=wa;const Oa=()=>{const{components:e,fields:t}=(0,n.useContext)(st),a=(0,n.useRef)(e),o=(0,n.useRef)(t);return{components:a.current,fields:o.current}};var Aa=Oa;const Fa=(0,n.createContext)();var lt=Fa;const Da=()=>{const e=(0,n.useContext)(lt);return(0,n.useRef)(e).current};var $a=Da;const Na=()=>{const{toggleNotification:e}=(0,n.useContext)(ue);return(0,n.useRef)(e).current};var de=Na;const Ba=(0,n.createContext)();var it=Ba;const qa=()=>(0,n.useContext)(it);var ut=qa,ja=e=>{var t={};return k.d(t,e),t},Bl=e=>()=>e,fe=ja({AxiosError:()=>ze.AxiosError,default:()=>ze.default});const Ua=()=>{const e=(0,n.useRef)(),{uuid:t,telemetryProperties:a,deviceId:o}=(0,n.useContext)(ce),i=ot()?.userId;return e.current=async(u,l)=>{if(t&&!window.strapi.telemetryDisabled)try{await fe.default.post("https://analytics.strapi.io/api/v2/track",{event:u,userId:i,deviceId:o,eventProperties:{...l},userProperties:{},groupProperties:{...a,projectId:t,projectType:window.strapi.projectType}},{headers:{"Content-Type":"application/json"}})}catch{}},{trackUsage:e.current}};var K=Ua;const Wa=(e,t)=>{const[a,o]=(0,n.useState)(t);return[a,{selectOne:l=>{const d=a.findIndex(_=>e.every(p=>_[p]===l[p]));d>-1?o(_=>[..._.slice(0,d),..._.slice(d+1)]):o(_=>[..._,l])},selectAll:l=>{a.length>0?o([]):o(l)},selectOnly:l=>{a.indexOf(l)>-1?o([]):o([l])},setSelections:o}]};var Ya=e=>{var t={};return k.d(t,e),t},ql=e=>()=>e,P=Ya({useIntl:()=>ra.useIntl});const Qa="apiError.";function ct(e,t){const a=`${Qa}${e}`;return typeof t=="function"?t(a):a}function dt(e,{name:t,intlMessagePrefixCallback:a}){const{message:o,path:s}=e;return{id:ct(o,a),defaultMessage:o,name:e?.name??t,values:{path:s?.join(".")}}}function pe(e,t){const{error:a}=e.response.data;return a?.details?.errors?{name:a.name,errors:a.details.errors.map(o=>dt(o,{name:a.name,intlMessagePrefixCallback:t}))}:dt(a,{intlMessagePrefixCallback:t})}function Ga(e,{formatMessage:t,intlMessagePrefixCallback:a}){if(!t)throw new Error("The formatMessage callback is a mandatory argument.");const o=pe(e,a);return o?.errors?o.errors.map(({id:s,defaultMessage:i,values:u})=>t({id:s,defaultMessage:i},u)).join(`
`):t(o)}function za(e,{intlMessagePrefixCallback:t,formatMessage:a}){const{code:o,message:s}=e;return a({id:ct(s,t),defaultMessage:s,values:{code:o}})}function Va(e){const{formatMessage:t}=(0,P.useIntl)();return{formatAPIError(a){try{return Ga(a,{intlMessagePrefixCallback:e,formatMessage:t})}catch{if(a instanceof fe.AxiosError)return za(a,{intlMessagePrefixCallback:e,formatMessage:t});throw new Error("formatAPIError: Unknown error:",a)}}}}let _e=new Map;function ft(e,t){let a=e+(t?Object.entries(t).sort((s,i)=>s[0]<i[0]?-1:1).join():"");if(_e.has(a))return _e.get(a);let o=new Intl.Collator(e,t);return _e.set(a,o),o}function Ha(e,t){let a=ft(e,{usage:"search",...t});return{startsWith(o,s){return s.length===0?!0:(o=o.normalize("NFC"),s=s.normalize("NFC"),a.compare(o.slice(0,s.length),s)===0)},endsWith(o,s){return s.length===0?!0:(o=o.normalize("NFC"),s=s.normalize("NFC"),a.compare(o.slice(-s.length),s)===0)},includes(o,s){if(s.length===0)return!0;o=o.normalize("NFC"),s=s.normalize("NFC");let i=0,u=s.length;for(;i+u<=o.length;i++){let l=o.slice(i,i+u);if(a.compare(s,l)===0)return!0}return!1}}}var Xa=e=>{var t={};return k.d(t,e),t},jl=e=>()=>e,me=Xa({parse:()=>Ve.parse,stringify:()=>Ve.stringify});const Ka=e=>{const{search:t}=(0,A.useLocation)(),{push:a}=(0,A.useHistory)(),o=(0,n.useMemo)(()=>{const i=t.substring(1);return t?(0,me.parse)(i):e},[t,e]),s=(0,n.useCallback)((i,u="push")=>{let l={...o};u==="remove"?Object.keys(i).forEach(d=>{delete l[d]}):l={...o,...i},a({search:(0,me.stringify)(l,{encode:!1})})},[a,o]);return[{query:o,rawQuery:t},s]};var Y=Ka;const Ja=()=>{const{lockApp:e,unlockApp:t}=(0,n.useContext)(at),a=(0,n.useRef)(e),o=(0,n.useRef)(t);return{lockApp:a.current,unlockApp:o.current}};var Za=Ja;const er=()=>{const{lockApp:e,unlockApp:t}=(0,n.useContext)(tt),a=(0,n.useRef)(e),o=(0,n.useRef)(t);return{lockAppWithAutoreload:a.current,unlockAppWithAutoreload:o.current}};var tr=er;const ar=()=>(0,n.useContext)(rt);var ae=ar,rr=e=>{var t={};return k.d(t,e),t},Ul=e=>()=>e,re=rr({default:()=>na.default}),nr=e=>{var t={};return k.d(t,e),t},Wl=e=>()=>e,or=nr({default:()=>oa.default}),sr=e=>{var t={};return k.d(t,e),t},Yl=e=>()=>e,pt=sr({default:()=>sa.default}),lr=e=>{var t={};return k.d(t,e),t},Ql=e=>()=>e,_t=lr({default:()=>la.default});const ne="jwtToken",ge="userInfo",mt="GUIDED_TOUR_CURRENT_STEP",gt="GUIDED_TOUR_COMPLETED_STEPS",vt="GUIDED_TOUR_SKIPPED",Et="STRAPI_THEME",ht="STRAPI_UPLOAD_MODAL_VIEW",bt="STRAPI_UPLOAD_LIBRARY_VIEW",ve=JSON.parse,J=JSON.stringify,N={clear(e){return localStorage&&localStorage.getItem(e)?localStorage.removeItem(e):sessionStorage&&sessionStorage.getItem(e)?sessionStorage.removeItem(e):null},clearAppStorage(){if(localStorage){const e=N.get("videos"),t=N.get("onboarding"),a=N.get("STRAPI_UPDATE_NOTIF"),o=localStorage.getItem("strapi-admin-language"),s=N.get(mt),i=N.get(gt),u=ve(localStorage.getItem(vt)),l=localStorage.getItem(Et),d=localStorage.getItem(bt),_=localStorage.getItem(ht);localStorage.clear(),localStorage.setItem("videos",JSON.stringify(e)),localStorage.setItem("onboarding",t),localStorage.setItem("STRAPI_UPDATE_NOTIF",a),localStorage.setItem("strapi-admin-language",o),localStorage.setItem(mt,J(s)),localStorage.setItem(gt,J(i)),localStorage.setItem(vt,J(u)),localStorage.setItem(Et,l),!(0,_t.default)(d)&&localStorage.setItem(bt,d),!(0,_t.default)(_)&&localStorage.setItem(ht,_)}sessionStorage&&sessionStorage.clear()},clearToken(e=ne){return N.clear(e)},clearUserInfo(e=ge){return N.clear(e)},get(e){return localStorage&&localStorage.getItem(e)?ve(localStorage.getItem(e))||null:sessionStorage&&sessionStorage.getItem(e)&&ve(sessionStorage.getItem(e))||null},getToken(e=ne){return N.get(e)},getUserInfo(e=ge){return N.get(e)},set(e,t,a){return(0,re.default)(e)?null:a&&localStorage?localStorage.setItem(t,J(e)):sessionStorage?sessionStorage.setItem(t,J(e)):null},setToken(e="",t=!1,a=ne){return N.set(e,a,t)},setUserInfo(e="",t=!1,a=ge){return N.set(e,a,t)},updateToken(e=""){const t=localStorage&&localStorage.getItem(ne);return N.setToken(e,t)}};var V=N;const ir=async e=>(e.headers={Authorization:`Bearer ${V.getToken()}`},e),ur=e=>Promise.reject(e),cr=e=>e,dr=e=>{throw e?.response?.status===401&&(V.clearAppStorage(),window.location.reload()),e},fr=e=>{e.interceptors.request.use(ir,ur),e.interceptors.response.use(cr,dr)},pr=()=>{const e=fe.default.create({headers:{Accept:"application/json","Content-Type":"application/json"}});return fr(e),e};var Z=pr();const _r=(e={})=>(Z.defaults.baseURL=window.strapi.backendURL,{get:(t,a)=>Z.get(t,{...e,...a}),put:(t,a,o)=>Z.put(t,a,{...e,...o}),post:(t,a,o)=>Z.post(t,a,{...e,...o}),del:(t,a)=>Z.delete(t,{...e,...a})});var Ee=_r;const yt=(e,t)=>(0,pt.default)(e,(a,o)=>{t.find(i=>i.action===o.action&&i.subject===o.subject)&&a.push(o)},[]),mr=e=>e.map(t=>(0,or.default)(t,(a,o)=>["action","subject"].includes(o)&&!(0,re.default)(a))),gr=e=>!(0,re.default)(e)&&e.every(t=>!(0,re.default)(t.conditions)),vr=async(e,t,a)=>{if(!t||!t.length)return!0;const o=yt(e,t);if(gr(o)){let s=!1;try{const{data:{data:i}}=await Ee().post("/admin/permissions/check",{permissions:mr(o)},{signal:a});s=i.every(u=>u===!0)}catch(i){console.error("Error while checking permissions",i)}return s}return o.length>0};var oe=vr,Er=e=>{var t={};return k.d(t,e),t},Gl=e=>()=>e,xt=Er({default:()=>ia.default});const hr=e=>e.reduce((t,a)=>(t[`can${(0,xt.default)(a.permissionName)}`]=a.hasPermission,t),{});var br=hr,yr=e=>{var t={};return k.d(t,e),t},zl=e=>()=>e,xr=yr({default:()=>ua.default});const Tr=e=>e.reduce((t,a)=>(t[`can${(0,xt.default)(a)}`]=!1,t),{});var Tt=Tr;const Vl={isLoading:!0,allowedActions:{}},kr=(e,t)=>(0,xr.default)(e,a=>{switch(t.type){case"GET_DATA":{a.isLoading=!0,a.allowedActions=Tt(t.permissionNames);break}case"GET_DATA_SUCCEEDED":{a.isLoading=!1,a.allowedActions=t.data;break}case"SET_IS_LOADING":{a.isLoading=!0;break}default:return a}});var Lr=kr;const Sr=e=>({isLoading:!0,allowedActions:Tt(e)});var Rr=Sr;const Cr=(e,t)=>{const a=new AbortController,{signal:o}=a,s=(0,n.useRef)(!0),i=(0,n.useMemo)(()=>Object.keys(e),[e]),{allPermissions:u}=ae(),l=t||u,[d,_]=(0,n.useReducer)(Lr,{},()=>Rr(i)),p=(0,n.useRef)(),m=(0,n.useRef)();p.current=async(b,v)=>{const x=await oe(v,e[b],o);return{permissionName:b,hasPermission:x}},m.current=(b,v)=>b.map(x=>p.current(x,v)),(0,n.useEffect)(()=>(s.current=!0,()=>{s.current=!1}),[]),(0,n.useEffect)(()=>((async()=>{try{_({type:"GET_DATA",permissionNames:i});const v=m.current(i,l),x=await Promise.all(v),S=br(x);s.current&&_({type:"GET_DATA_SUCCEEDED",data:S})}catch{}})(),()=>{a.abort()}),[i,l]);const g=(0,n.useCallback)(()=>{_({type:"SET_IS_LOADING"})},[]);return{...d,setIsLoading:g}};var Pr=Cr;const Ir=(e,t)=>{const[a,o]=(0,n.useState)(()=>{const s=window.localStorage.getItem(e);if(s!==null)try{return JSON.parse(s)}catch{return s}return t});return(0,n.useEffect)(()=>{window.localStorage.setItem(e,JSON.stringify(a))},[e,a]),[a,o]};var Mr=Ir;const wr=(e="main",t=[])=>{(0,n.useEffect)(()=>{const a=document.querySelector(e);a?(a.focus(),window.scrollTo({top:0})):console.warn(`[useFocusWhenNavigate] The page does not contain the selector "${e}" and can't be focused.`)},t)};var Or=wr;const Ar=e=>{(0,n.useEffect)(()=>(e&&document.body.classList.add("lock-body-scroll"),()=>{document.body.classList.remove("lock-body-scroll")}),[e])};var Fr=Ar;const Dr=()=>{const e=(0,n.useRef)(null);return e.current===null&&(e.current=new AbortController),(0,n.useEffect)(()=>()=>{e.current.abort()},[]),(0,n.useMemo)(()=>Ee({signal:e.current.signal}),[])};var $r=Dr,Nr=e=>{var t={};return k.d(t,e),t},Hl=e=>()=>e,r=Nr({default:()=>ca.default});const he=({children:e,...t})=>n.default.createElement(nt.Provider,{value:t},e);he.defaultProps={currentStep:null,isGuidedTourVisible:!1},he.propTypes={children:r.default.node.isRequired,currentStep:r.default.string,guidedTourState:r.default.objectOf(r.default.shape({create:r.default.bool,success:r.default.bool})).isRequired,isGuidedTourVisible:r.default.bool,isSkipped:r.default.bool.isRequired,setCurrentStep:r.default.func.isRequired,setGuidedTourVisibility:r.default.func.isRequired,setSkipped:r.default.func.isRequired,setStepState:r.default.func.isRequired,startSection:r.default.func.isRequired};var Br=he;const kt=({children:e,...t})=>n.default.createElement(st.Provider,{value:t},e);kt.propTypes={children:r.default.node.isRequired,components:r.default.object.isRequired,fields:r.default.object.isRequired};var qr=kt;const Lt=({children:e,customFields:t})=>n.default.createElement(lt.Provider,{value:{get:t.get.bind(t),getAll:t.getAll.bind(t)}},e);Lt.propTypes={children:r.default.node.isRequired,customFields:r.default.shape({get:r.default.func.isRequired,getAll:r.default.func.isRequired}).isRequired};var jr=Lt;const St=({children:e,toggleNotification:t})=>{const a=(0,n.useMemo)(()=>({toggleNotification:t}),[t]);return n.default.createElement(ue.Provider,{value:a},e)};St.propTypes={children:r.default.node.isRequired,toggleNotification:r.default.func.isRequired};var Ur=St;const Rt=({children:e,...t})=>n.default.createElement(it.Provider,{value:t},e);Rt.propTypes={children:r.default.node.isRequired,getPlugin:r.default.func.isRequired,menu:r.default.arrayOf(r.default.shape({to:r.default.string.isRequired,icon:r.default.func.isRequired,intlLabel:r.default.shape({id:r.default.string.isRequired,defaultMessage:r.default.string.isRequired}).isRequired,permissions:r.default.array,Component:r.default.func})).isRequired,plugins:r.default.object.isRequired,runHookParallel:r.default.func.isRequired,runHookWaterfall:r.default.func.isRequired,runHookSeries:r.default.func.isRequired,settings:r.default.object.isRequired};var Wr=Rt;const Yr={uuid:!1,telemetryProperties:void 0},be=e=>n.default.createElement(ce.Provider,{...e});be.propTypes={value:r.default.shape({uuid:r.default.oneOfType([r.default.string,r.default.bool]),telemetryProperties:r.default.object})},be.defaultProps={value:Yr};var Qr=be,Gr=e=>{var t={};return k.d(t,e),t},Xl=e=>()=>e,c=Gr({BaseCheckbox:()=>h.BaseCheckbox,Box:()=>h.Box,Button:()=>h.Button,Checkbox:()=>h.Checkbox,DatePicker:()=>h.DatePicker,DateTimePicker:()=>h.DateTimePicker,Dialog:()=>h.Dialog,DialogBody:()=>h.DialogBody,DialogFooter:()=>h.DialogFooter,Dots:()=>h.Dots,EmptyStateLayout:()=>h.EmptyStateLayout,Field:()=>h.Field,FieldInput:()=>h.FieldInput,Flex:()=>h.Flex,FocusTrap:()=>h.FocusTrap,Icon:()=>h.Icon,IconButton:()=>h.IconButton,JSONInput:()=>h.JSONInput,Loader:()=>h.Loader,NextLink:()=>h.NextLink,NumberInput:()=>h.NumberInput,Option:()=>h.Option,PageLink:()=>h.PageLink,Pagination:()=>h.Pagination,Popover:()=>h.Popover,PreviousLink:()=>h.PreviousLink,SearchForm:()=>h.SearchForm,Searchbar:()=>h.Searchbar,Select:()=>h.Select,Table:()=>h.Table,Tag:()=>h.Tag,Tbody:()=>h.Tbody,Td:()=>h.Td,TextInput:()=>h.TextInput,Textarea:()=>h.Textarea,Th:()=>h.Th,Thead:()=>h.Thead,TimePicker:()=>h.TimePicker,ToggleInput:()=>h.ToggleInput,Tooltip:()=>h.Tooltip,Tr:()=>h.Tr,Typography:()=>h.Typography,VisuallyHidden:()=>h.VisuallyHidden}),zr=e=>{var t={};return k.d(t,e),t},Kl=e=>()=>e,U=zr({default:()=>He.default,useTheme:()=>He.useTheme});const Vr=(0,U.default)(c.Flex)`
  height: 100vh;
`,ye=({"data-testid":e,children:t})=>n.default.createElement(Vr,{justifyContent:"space-around","data-testid":e},n.default.createElement(c.Loader,null,t));ye.defaultProps={"data-testid":"loader",children:"Loading content."},ye.propTypes={"data-testid":r.default.string,children:r.default.string};var Ct=ye;const xe=({permissions:e,children:t})=>{const a=new AbortController,{signal:o}=a,{allPermissions:s}=ae(),i=de(),[u,l]=(0,n.useState)({isLoading:!0,canAccess:!1}),d=(0,n.useRef)(!0);return(0,n.useEffect)(()=>((async()=>{try{l({isLoading:!0,canAccess:!1});const p=await oe(s,e,o);d.current&&l({isLoading:!1,canAccess:p})}catch(p){d.current&&(console.error(p),i({type:"warning",message:{id:"notification.error"}}),l({isLoading:!1}))}})(),()=>{a.abort()}),[e]),(0,n.useEffect)(()=>()=>{d.current=!1},[]),u.isLoading?n.default.createElement(Ct,null):u.canAccess?t:n.default.createElement(A.Redirect,{to:"/"})};xe.defaultProps={permissions:[]},xe.propTypes={children:r.default.node.isRequired,permissions:r.default.array};var Hr=xe;const Te=({permissions:e,children:t})=>{const{allPermissions:a}=ae(),o=de(),[s,i]=(0,n.useState)({isLoading:!0,canAccess:!1}),u=(0,n.useRef)(!0),l=new AbortController,{signal:d}=l;return(0,n.useEffect)(()=>((async()=>{try{i({isLoading:!0,canAccess:!1});const p=await oe(a,e,d);u.current&&i({isLoading:!1,canAccess:p})}catch(p){u.current&&(console.error(p),o({type:"warning",message:{id:"notification.error"}}),i({isLoading:!1}))}})(),()=>{l.abort()}),[e]),(0,n.useEffect)(()=>()=>{u.current=!1},[]),s.isLoading||!s.canAccess?null:t};Te.defaultProps={permissions:[]},Te.propTypes={children:r.default.node.isRequired,permissions:r.default.array};var Xr=Te,Kr=e=>{var t={};return k.d(t,e),t},Jl=e=>()=>e,C=Kr({CarretDown:()=>j.CarretDown,Cross:()=>j.Cross,EmptyDocuments:()=>j.EmptyDocuments,EmptyPermissions:()=>j.EmptyPermissions,EmptyPictures:()=>j.EmptyPictures,ExclamationMarkCircle:()=>j.ExclamationMarkCircle,Eye:()=>j.Eye,EyeStriked:()=>j.EyeStriked,Minus:()=>j.Minus,Plus:()=>j.Plus,Search:()=>j.Search,Trash:()=>j.Trash});const ke=({bodyText:e,iconRightButton:t,iconBody:a,isConfirmButtonLoading:o,leftButtonText:s,onToggleDialog:i,onConfirm:u,rightButtonText:l,title:d,variantRightButton:_,...p})=>{const{formatMessage:m}=(0,P.useIntl)();return n.default.createElement(c.Dialog,{onClose:i,title:m({id:d.id,defaultMessage:d.defaultMessage}),labelledBy:"confirmation",describedBy:"confirm-description",...p},n.default.createElement(c.DialogBody,{icon:a},n.default.createElement(c.Flex,{direction:"column",alignItems:"stretch",gap:2},n.default.createElement(c.Flex,{justifyContent:"center"},n.default.createElement(c.Typography,{variant:"omega",id:"confirm-description"},m({id:e.id,defaultMessage:e.defaultMessage}))))),n.default.createElement(c.DialogFooter,{startAction:n.default.createElement(c.Button,{onClick:i,variant:"tertiary"},m({id:s.id,defaultMessage:s.defaultMessage})),endAction:n.default.createElement(c.Button,{onClick:u,variant:_,startIcon:t,id:"confirm-delete",loading:o},m({id:l.id,defaultMessage:l.defaultMessage}))}))};ke.defaultProps={bodyText:{id:"components.popUpWarning.message",defaultMessage:"Are you sure you want to delete this?"},iconBody:n.default.createElement(C.ExclamationMarkCircle,null),iconRightButton:n.default.createElement(C.Trash,null),isConfirmButtonLoading:!1,leftButtonText:{id:"app.components.Button.cancel",defaultMessage:"Cancel"},rightButtonText:{id:"app.components.Button.confirm",defaultMessage:"Confirm"},title:{id:"app.components.ConfirmDialog.title",defaultMessage:"Confirmation"},variantRightButton:"danger-light"},ke.propTypes={bodyText:r.default.shape({id:r.default.string,defaultMessage:r.default.string}),iconBody:r.default.node,iconRightButton:r.default.node,isConfirmButtonLoading:r.default.bool,onConfirm:r.default.func.isRequired,onToggleDialog:r.default.func.isRequired,leftButtonText:r.default.shape({id:r.default.string,defaultMessage:r.default.string}),rightButtonText:r.default.shape({id:r.default.string,defaultMessage:r.default.string}),title:r.default.shape({id:r.default.string,defaultMessage:r.default.string}),variantRightButton:r.default.string};var Le=ke;const Jr=(0,U.default)(c.Flex)`
  margin-right: ${({theme:e})=>e.spaces[6]};

  svg {
    width: ${32/16}rem;
    height: ${32/16}rem;
  }
`,Zr=(0,U.default)(c.Typography)`
  word-break: break-all;
`,Se=({title:e,subtitle:t,icon:a,iconBackground:o,endAction:s,titleEllipsis:i})=>(e.length>70&&i&&(e=`${e.substring(0,70)}...`),n.default.createElement(c.Flex,{shadow:"tableShadow",hasRadius:!0,padding:6,background:"neutral0"},n.default.createElement(Jr,{background:o,hasRadius:!0,padding:3},a),n.default.createElement(c.Flex,{direction:"column",alignItems:"stretch",gap:s?0:1},n.default.createElement(c.Flex,null,n.default.createElement(Zr,{fontWeight:"semiBold",variant:"pi"},e),s),n.default.createElement(c.Typography,{textColor:"neutral600"},t))));Se.defaultProps={titleEllipsis:!1,title:void 0,subtitle:void 0,icon:void 0,iconBackground:void 0,endAction:void 0},Se.propTypes={titleEllipsis:r.default.bool,title:r.default.string,subtitle:r.default.string,icon:r.default.node,iconBackground:r.default.string,endAction:r.default.node};var en=Se;const tn={document:C.EmptyDocuments,media:C.EmptyPictures,permissions:C.EmptyPermissions},Re=({action:e,content:t,hasRadius:a,icon:o,shadow:s})=>{const i=tn[o],{formatMessage:u}=(0,P.useIntl)();return n.default.createElement(c.EmptyStateLayout,{action:e,content:u({id:t.id,defaultMessage:t.defaultMessage},t.values),hasRadius:a,icon:n.default.createElement(i,{width:"10rem"}),shadow:s})};Re.defaultProps={action:void 0,content:{id:"app.components.EmptyStateLayout.content-document",defaultMessage:"No content found",values:{}},hasRadius:!0,icon:"document",shadow:"tableShadow"},Re.propTypes={action:r.default.any,content:r.default.shape({id:r.default.string,defaultMessage:r.default.string,values:r.default.object}),hasRadius:r.default.bool,icon:r.default.oneOf(["document","media","permissions"]),shadow:r.default.string};var Pt=Re;const Ce=({colSpan:e,isLoading:t,...a})=>t?n.default.createElement(c.Tbody,null,n.default.createElement(c.Tr,null,n.default.createElement(c.Td,{colSpan:e},n.default.createElement(c.Flex,{justifyContent:"center"},n.default.createElement(c.Box,{padding:11,background:"neutral0"},n.default.createElement(c.Loader,null,"Loading content...")))))):n.default.createElement(c.Tbody,null,n.default.createElement(c.Tr,null,n.default.createElement(c.Td,{colSpan:e},n.default.createElement(Pt,{...a,hasRadius:!1,shadow:""}))));Ce.defaultProps={action:void 0,colSpan:1,content:void 0,icon:void 0,isLoading:!1},Ce.propTypes={action:r.default.any,colSpan:r.default.number,content:r.default.shape({id:r.default.string,defaultMessage:r.default.string,values:r.default.object}),icon:r.default.oneOf(["document","media","permissions"]),isLoading:r.default.bool};var It=Ce;const an={isUp:!0},Pe=(0,U.default)(C.CarretDown).withConfig({shouldForwardProp:(e,t)=>!an[e]&&t(e)})`
  transform: ${({isUp:e})=>`rotate(${e?"180":"0"}deg)`};
`;Pe.defaultProps={isUp:!1},Pe.propTypes={isUp:r.default.bool};var Mt=Pe;const Ie=({areAllEntriesSelected:e,entriesToDelete:t,headers:a,onSelectAll:o,withMainAction:s,withBulkActions:i})=>{const{formatMessage:u}=(0,P.useIntl)(),[{query:l},d]=Y(),_=l?.sort||"",[p,m]=_.split(":"),g=!e&&t.length>0;return n.default.createElement(c.Thead,null,n.default.createElement(c.Tr,null,s&&n.default.createElement(c.Th,null,n.default.createElement(c.BaseCheckbox,{"aria-label":u({id:"global.select-all-entries",defaultMessage:"Select all entries"}),checked:e,indeterminate:g,onChange:o})),a.map(({name:b,metadatas:{sortable:v,label:x}})=>{const S=p===b,L=m==="ASC",T=u({id:"components.TableHeader.sort",defaultMessage:"Sort on {label}"},{label:x}),E=(I=!0)=>{if(v&&I){const D=`${b}:${S&&m==="ASC"?"DESC":"ASC"}`;d({sort:D})}};return n.default.createElement(c.Th,{key:b,action:S&&n.default.createElement(c.IconButton,{label:T,onClick:E,icon:S&&n.default.createElement(Mt,{isUp:L}),noBorder:!0})},n.default.createElement(c.Tooltip,{label:v?T:x},n.default.createElement(c.Typography,{textColor:"neutral600",as:!S&&v?"button":"span",label:x,onClick:()=>E(!S),variant:"sigma"},x)))}),i&&n.default.createElement(c.Th,null,n.default.createElement(c.VisuallyHidden,null,u({id:"global.actions",defaultMessage:"Actions"})))))};Ie.defaultProps={areAllEntriesSelected:!1,entriesToDelete:[],headers:[],withBulkActions:!1,withMainAction:!1},Ie.propTypes={areAllEntriesSelected:r.default.bool,entriesToDelete:r.default.arrayOf(r.default.oneOfType([r.default.string,r.default.number])),headers:r.default.array,onSelectAll:r.default.func.isRequired,withBulkActions:r.default.bool,withMainAction:r.default.bool};var rn=Ie;const nn=(0,U.default)(c.Flex)`
  & > * + * {
    margin-left: ${({theme:e})=>e.spaces[2]};
  }

  margin-left: ${({pullRight:e})=>e?"auto":void 0};
`,Me=({action:e,children:t,contentType:a,components:o,footer:s,headers:i,isLoading:u,onConfirmDeleteAll:l,onConfirmDelete:d,onOpenDeleteAllModalTrackedEvent:_,rows:p,withBulkActions:m,withMainAction:g,...b})=>{const[v,x]=(0,n.useState)([]),[S,L]=(0,n.useState)(!1),[T,E]=(0,n.useState)(!1),[I,M]=(0,n.useState)(!1),[{query:D}]=Y(),{formatMessage:R}=(0,P.useIntl)(),{trackUsage:W}=K(),G=p.length+1,O=i.length+(m?1:0)+(g?1:0),F=D?.filters!==void 0,B=v.length===p.length&&p.length>0,y=F?{id:"content-manager.components.TableEmpty.withFilters",defaultMessage:"There are no {contentType} with the applied filters...",values:{contentType:a}}:void 0,w=async()=>{try{M(!0),await l(v),z(),x([]),M(!1)}catch{M(!1),z()}},se=async()=>{try{M(!0),await d(v[0]),ee(),M(!1)}catch{M(!1),ee()}},le=()=>{x(B?[]:p.map($=>$.id))},z=()=>{!S&&_&&W(_),L($=>!$)},ee=()=>{T&&x([]),E($=>!$)},Xt=$=>{x([$]),ee()},Kt=({name:$,value:ea})=>{x(Ge=>ea?Ge.concat($):Ge.filter(ta=>ta!==$))},Jt=o?.ConfirmDialogDeleteAll?o.ConfirmDialogDeleteAll:Le,Zt=o?.ConfirmDialogDelete?o.ConfirmDialogDelete:Le;return n.default.createElement(n.default.Fragment,null,v.length>0&&n.default.createElement(c.Box,null,n.default.createElement(c.Box,{paddingBottom:4},n.default.createElement(c.Flex,{justifyContent:"space-between"},n.default.createElement(nn,null,n.default.createElement(c.Typography,{variant:"epsilon",textColor:"neutral600"},R({id:"content-manager.components.TableDelete.label",defaultMessage:"{number, plural, one {# entry} other {# entries}} selected"},{number:v.length})),n.default.createElement(c.Button,{onClick:z,startIcon:n.default.createElement(C.Trash,null),size:"L",variant:"danger-light"},R({id:"global.delete",defaultMessage:"Delete"})))))),n.default.createElement(c.Table,{colCount:O,rowCount:G,footer:s},n.default.createElement(rn,{areAllEntriesSelected:B,entriesToDelete:v,headers:i,onSelectAll:le,withMainAction:g,withBulkActions:m}),!p.length||u?n.default.createElement(It,{colSpan:O,content:y,isLoading:u,action:e}):n.Children.toArray(t).map($=>(0,n.cloneElement)($,{entriesToDelete:v,onClickDelete:Xt,onSelectRow:Kt,headers:i,rows:p,withBulkActions:m,withMainAction:g,...b}))),n.default.createElement(Jt,{isConfirmButtonLoading:I,onConfirm:w,onToggleDialog:z,isOpen:S}),n.default.createElement(Zt,{isConfirmButtonLoading:I,onConfirm:se,onToggleDialog:ee,isOpen:T}))};Me.defaultProps={action:void 0,children:void 0,components:{ConfirmDialogDeleteAll:void 0,ConfirmDialogDelete:void 0},footer:void 0,headers:[],isLoading:!1,onConfirmDeleteAll(){},onConfirmDelete(){},onOpenDeleteAllModalTrackedEvent:void 0,rows:[],withBulkActions:!1,withMainAction:!1},Me.propTypes={action:r.default.node,children:r.default.node,contentType:r.default.string.isRequired,components:r.default.shape({ConfirmDialogDelete:r.default.oneOfType([r.default.func,r.default.element]),ConfirmDialogDeleteAll:r.default.oneOfType([r.default.func,r.default.element])}),footer:r.default.node,headers:r.default.arrayOf(r.default.shape({cellFormatter:r.default.func,key:r.default.string.isRequired,metadatas:r.default.shape({label:r.default.string.isRequired,sortable:r.default.bool}).isRequired,name:r.default.string.isRequired})),isLoading:r.default.bool,onConfirmDeleteAll:r.default.func,onConfirmDelete:r.default.func,onOpenDeleteAllModalTrackedEvent:r.default.string,rows:r.default.array,withBulkActions:r.default.bool,withMainAction:r.default.bool};var on=Me;const we=({content:e,...t})=>{const{formatMessage:a}=(0,P.useIntl)();return n.default.createElement(c.EmptyStateLayout,{icon:n.default.createElement(C.EmptyDocuments,{width:"10rem"}),...t,content:a({id:e.id,defaultMessage:e.defaultMessage},e.values)})};we.defaultProps={content:{id:"app.components.EmptyStateLayout.content-document",defaultMessage:"No content found",values:{}}},we.propTypes={content:r.default.shape({id:r.default.string,defaultMessage:r.default.string,values:r.default.object})};var sn=we;const ln=e=>n.default.createElement(c.EmptyStateLayout,{icon:n.default.createElement(C.EmptyPictures,{width:"10rem"}),...e});var un=ln;const Oe=({action:e})=>{const{formatMessage:t}=(0,P.useIntl)();return n.default.createElement(c.EmptyStateLayout,{icon:n.default.createElement(C.EmptyPermissions,{width:"10rem"}),content:t({id:"app.components.EmptyStateLayout.content-permissions",defaultMessage:"You don't have the permissions to access that content"}),action:e})};Oe.defaultProps={action:void 0},Oe.propTypes={action:r.default.node};var cn=Oe;const Ae=({content:e,...t})=>{const{formatMessage:a}=(0,P.useIntl)();return n.default.createElement(c.EmptyStateLayout,{icon:n.default.createElement(C.ExclamationMarkCircle,{width:"10rem"}),content:a({id:e.id,defaultMessage:e.defaultMessage},e.values),...t})};Ae.defaultProps={content:{id:"anErrorOccurred",defaultMessage:"Woops! Something went wrong. Please, try again.",values:{}}},Ae.propTypes={content:r.default.shape({id:r.default.string,defaultMessage:r.default.string,values:r.default.object})};var dn=Ae,fn=e=>{var t={};return k.d(t,e),t},Zl=e=>()=>e,wt=fn({default:()=>da.default}),pn=e=>{var t={};return k.d(t,e),t},ei=e=>()=>e,Ot=pn({default:()=>fa.default});const Fe=({hint:e,label:t,labelAction:a,error:o,name:s,required:i})=>n.default.createElement(c.TextInput,{disabled:!0,error:o,label:t,labelAction:a,id:s,hint:e,name:s,onChange:()=>{},placeholder:"Not supported",required:i,type:"text",value:""});Fe.defaultProps={hint:null,error:void 0,labelAction:void 0,required:!1},Fe.propTypes={error:r.default.string,hint:r.default.string,label:r.default.string.isRequired,labelAction:r.default.element,name:r.default.string.isRequired,required:r.default.bool};var _n=Fe;const mn=e=>{if(!e)return{maximum:void 0,minimum:void 0};const{minLength:t,maxLength:a,max:o,min:s}=e;let i,u;const l=parseInt(s,10),d=parseInt(t,10);Number.isNaN(l)?Number.isNaN(d)||(i=d):i=l;const _=parseInt(o,10),p=parseInt(a,10);return Number.isNaN(_)?Number.isNaN(p)||(u=p):u=_,{maximum:u,minimum:i}};var gn=mn;const vn=({type:e,minimum:t,maximum:a})=>{if(["biginteger","integer","number"].includes(e))return{};const o=Math.max(t||0,a||0);return{message:{id:"content-manager.form.Input.hint.character.unit",defaultMessage:"{maxValue, plural, one { character} other { characters}}"},values:{maxValue:o}}};var En=vn;const hn=({description:e,fieldSchema:t,type:a})=>{const{formatMessage:o}=(0,P.useIntl)(),s=()=>e?.id?o({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"";return{hint:(()=>{const{maximum:u,minimum:l}=gn(t),d=En({type:a,minimum:l,maximum:u}),_=typeof l=="number",p=typeof u=="number",m=p&&_,g=p||_;return!e?.id&&!g?"":o({id:"content-manager.form.Input.hint.text",defaultMessage:"{min, select, undefined {} other {min. {min}}}{divider}{max, select, undefined {} other {max. {max}}}{unit}{br}{description}"},{min:l,max:u,description:s(),unit:d?.message&&g?o(d.message,d.values):null,divider:m?o({id:"content-manager.form.Input.hint.minMaxDivider",defaultMessage:" / "}):null,br:g?n.default.createElement("br",null):null})})()}};var bn=hn;const yn=e=>`${e/16}rem`;var Q=yn;const De=({autoComplete:e,customInputs:t,description:a,disabled:o,intlLabel:s,labelAction:i,error:u,name:l,onChange:d,options:_,placeholder:p,required:m,step:g,type:b,value:v,isNullable:x,attribute:S,...L})=>{const{formatMessage:T}=(0,P.useIntl)(),{hint:E}=bn({description:a,fieldSchema:S,type:S?.type||b}),[I,M]=(0,n.useState)(!1),D=t?t[b]:null,R=v??void 0,W=R??"";function G(y){if(!y)return null;const w={...y.values};return T(typeof y=="string"?{id:y,defaultMessage:y}:{id:y.id,defaultMessage:y?.defaultMessage??y.id},w)}const O=G(u);if(D)return n.default.createElement(D,{...L,attribute:S,description:a,hint:E,disabled:o,intlLabel:s,labelAction:i,error:O,name:l,onChange:d,options:_,required:m,placeholder:p,type:b,value:R});const F=s.id?T({id:s.id,defaultMessage:s.defaultMessage},{...s.values}):l,B=p?T({id:p.id,defaultMessage:p.defaultMessage},{...p.values}):"";switch(b){case"json":return n.default.createElement(c.JSONInput,{label:F,labelAction:i,value:R,error:O,disabled:o,hint:E,required:m,onChange:y=>{const w=!S.required&&!y.length?null:y;d({target:{name:l,value:w}})},minHeight:Q(252),maxHeight:Q(504)});case"bool":{const y={clearLabel:x&&T({id:"app.components.ToggleCheckbox.clear-label",defaultMessage:"Clear"}),onClear:x&&(()=>{d({target:{name:l,value:null}})})};return n.default.createElement(c.ToggleInput,{checked:v===null?null:v||!1,disabled:o,hint:E,label:F,error:O,labelAction:i,name:l,offLabel:T({id:"app.components.ToggleCheckbox.off-label",defaultMessage:"False"}),onLabel:T({id:"app.components.ToggleCheckbox.on-label",defaultMessage:"True"}),onChange:w=>{d({target:{name:l,value:w.target.checked}})},required:m,...y})}case"checkbox":return n.default.createElement(c.Checkbox,{disabled:o,error:O,hint:E,id:l,name:l,onValueChange:y=>{d({target:{name:l,value:y}})},required:m,value:Boolean(R)},F);case"datetime":return n.default.createElement(c.DateTimePicker,{clearLabel:T({id:"clearLabel",defaultMessage:"Clear"}),disabled:o,error:O,label:F,labelAction:i,id:l,hint:E,name:l,onChange:y=>{const w=y?y.toISOString():null;d({target:{name:l,value:w,type:b}})},step:g,onClear:()=>d({target:{name:l,value:null,type:b}}),placeholder:B,required:m,value:R&&new Date(R),selectedDateLabel:y=>`Date picker, current is ${y}`,selectButtonTitle:T({id:"selectButtonTitle",defaultMessage:"Select"})});case"date":{let y=null;return R&&(y=(0,wt.default)(R)),n.default.createElement(c.DatePicker,{clearLabel:T({id:"clearLabel",defaultMessage:"Clear"}),disabled:o,error:O,label:F,labelAction:i,id:l,hint:E,name:l,onChange:w=>{d({target:{name:l,value:(0,Ot.default)(w,{representation:"date"}),type:b}})},onClear:()=>d({target:{name:l,value:null,type:b}}),placeholder:B,required:m,selectedDate:y,selectedDateLabel:w=>`Date picker, current is ${w}`})}case"number":return n.default.createElement(c.NumberInput,{disabled:o,error:O,label:F,labelAction:i,id:l,hint:E,name:l,onValueChange:y=>d({target:{name:l,value:y,type:b}}),placeholder:B,required:m,step:g,value:R});case"email":return n.default.createElement(c.TextInput,{autoComplete:e,disabled:o,error:O,label:F,labelAction:i,id:l,hint:E,name:l,onChange:d,placeholder:B,required:m,type:"email",value:W});case"timestamp":case"text":case"string":return n.default.createElement(c.TextInput,{autoComplete:e,disabled:o,error:O,label:F,labelAction:i,id:l,hint:E,name:l,onChange:d,placeholder:B,required:m,type:"text",value:W});case"password":return n.default.createElement(c.TextInput,{autoComplete:e,disabled:o,error:O,endAction:n.default.createElement("button",{"aria-label":T({id:"Auth.form.password.show-password",defaultMessage:"Show password"}),onClick:()=>{M(y=>!y)},style:{border:"none",padding:0,background:"transparent"},type:"button"},I?n.default.createElement(c.Icon,{as:C.Eye,color:"neutral500"}):n.default.createElement(c.Icon,{as:C.EyeStriked,color:"neutral500"})),label:F,labelAction:i,id:l,hint:E,name:l,onChange:d,placeholder:B,required:m,type:I?"text":"password",value:W});case"select":return n.default.createElement(c.Select,{disabled:o,error:O,label:F,labelAction:i,id:l,hint:E,name:l,onChange:y=>d({target:{name:l,value:y,type:"select"}}),placeholder:B,required:m,value:R},_.map(({metadatas:{intlLabel:y,disabled:w,hidden:se},key:le,value:z})=>n.default.createElement(c.Option,{key:le,value:z,disabled:w,hidden:se},T(y))));case"textarea":return n.default.createElement(c.Textarea,{disabled:o,error:O,label:F,labelAction:i,id:l,hint:E,name:l,onChange:d,required:m,placeholder:B,type:b,value:W},R);case"time":{let y=R;return R&&R.split(":").length>2&&(y=y.split(":"),y.pop(),y=y.join(":")),n.default.createElement(c.TimePicker,{clearLabel:T({id:"clearLabel",defaultMessage:"Clear"}),disabled:o,error:O,label:F,labelAction:i,id:l,hint:E,name:l,onChange:w=>{d({target:{name:l,value:`${w}`,type:b}})},onClear:()=>{d({target:{name:l,value:null,type:b}})},placeholder:B,required:m,step:g,value:y})}default:return n.default.createElement(_n,{name:l,label:F,labelAction:i,hint:E,error:O,required:m})}};De.defaultProps={autoComplete:void 0,customInputs:null,description:null,disabled:!1,error:"",isNullable:void 0,labelAction:void 0,placeholder:null,required:!1,options:[],step:1,value:void 0,attribute:null},De.propTypes={autoComplete:r.default.string,customInputs:r.default.object,description:r.default.shape({id:r.default.string.isRequired,defaultMessage:r.default.string.isRequired,values:r.default.object}),attribute:r.default.object,disabled:r.default.bool,error:r.default.oneOfType([r.default.string,r.default.shape({id:r.default.string.isRequired,defaultMessage:r.default.string})]),intlLabel:r.default.shape({id:r.default.string.isRequired,defaultMessage:r.default.string.isRequired,values:r.default.object}).isRequired,isNullable:r.default.bool,labelAction:r.default.element,name:r.default.string.isRequired,onChange:r.default.func.isRequired,options:r.default.arrayOf(r.default.shape({metadatas:r.default.shape({intlLabel:r.default.shape({id:r.default.string.isRequired,defaultMessage:r.default.string.isRequired}).isRequired,disabled:r.default.bool,hidden:r.default.bool}).isRequired,key:r.default.oneOfType([r.default.string,r.default.number]).isRequired,value:r.default.oneOfType([r.default.string,r.default.number]).isRequired}).isRequired),placeholder:r.default.shape({id:r.default.string.isRequired,defaultMessage:r.default.string.isRequired,values:r.default.object}),required:r.default.bool,step:r.default.number,type:r.default.string.isRequired,value:r.default.any};var xn=De;const Tn=e=>{const{getPlugin:t}=ut(),[a,o,s]=e.split("."),i=t(a);return i?i.getInjectedComponents(o,s):null};var kn=Tn;const At=({area:e,...t})=>{const a=kn(e);return a?a.map(o=>n.default.createElement(o.Component,{key:o.name,...t})):null};At.propTypes={area:r.default.string.isRequired};var Ln=At;const Sn=(0,U.default)(C.EyeStriked)`
  > path {
    fill: ${({theme:e})=>e.colors.neutral600};
  }
`,$e=({description:e,intlLabel:t,labelAction:a,error:o,name:s})=>{const{formatMessage:i}=(0,P.useIntl)(),u=t.id?i({id:t.id,defaultMessage:t.defaultMessage},{...t.values}):s,l=e?i({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",d=i({id:"components.NotAllowedInput.text",defaultMessage:"No permissions to see this field"}),_=o?i({id:o,defaultMessage:o}):"";return n.default.createElement(c.TextInput,{disabled:!0,error:_,label:u,labelAction:a,id:s,hint:l,name:s,onChange:()=>{},placeholder:d,startAction:n.default.createElement(Sn,null),type:"text",value:""})};$e.defaultProps={description:null,error:"",labelAction:void 0},$e.propTypes={description:r.default.shape({id:r.default.string.isRequired,defaultMessage:r.default.string.isRequired,values:r.default.object}),error:r.default.string,intlLabel:r.default.shape({id:r.default.string.isRequired,defaultMessage:r.default.string.isRequired,values:r.default.object}).isRequired,labelAction:r.default.element,name:r.default.string.isRequired};var Rn=$e,Cn=e=>{var t={};return k.d(t,e),t},ti=e=>()=>e,Pn=Cn({Helmet:()=>pa.Helmet});const Ft=({name:e})=>{const{formatMessage:t}=(0,P.useIntl)(),a=t({id:"Settings.PageTitle",defaultMessage:"Settings - {name}"},{name:e});return n.default.createElement(Pn.Helmet,{title:a})};Ft.propTypes={name:r.default.string.isRequired};var In=Ft;const Ne=({label:e,placeholder:t,trackedEvent:a,trackedEventDetails:o})=>{const s=(0,n.useRef)(null),i=(0,n.useRef)(null),[{query:u},l]=Y(),[d,_]=(0,n.useState)(u?._q||""),[p,m]=(0,n.useState)(!!d),{formatMessage:g}=(0,P.useIntl)(),{trackUsage:b}=K(),v=()=>m(L=>!L);(0,n.useLayoutEffect)(()=>{p&&setTimeout(()=>{s.current.querySelector("input").focus()},0)},[p]);const x=()=>{_(""),l({_q:""},"remove")},S=L=>{L.preventDefault(),d?(a&&b(a,o),l({_q:encodeURIComponent(d),page:1})):(v(),l({_q:""},"remove"))};return p?n.default.createElement("div",{ref:s},n.default.createElement(c.SearchForm,{onSubmit:S},n.default.createElement(c.Searchbar,{name:"search",onChange:({target:{value:L}})=>_(L),value:d,clearLabel:g({id:"clearLabel",defaultMessage:"Clear"}),onClear:x,size:"S",placeholder:t},e))):n.default.createElement(c.IconButton,{ref:i,icon:n.default.createElement(c.Icon,{as:C.Search,color:"neutral800"}),label:g({id:"global.search",defaultMessage:"Search"}),onClick:v})};Ne.defaultProps={placeholder:void 0,trackedEventDetails:void 0,trackedEvent:null},Ne.propTypes={label:r.default.string.isRequired,placeholder:r.default.string,trackedEventDetails:r.default.object,trackedEvent:r.default.string};var Mn=Ne;const wn=U.default.div`
  margin-right: ${({theme:e})=>e.spaces[3]};
  width: ${6/16}rem;
  height: ${6/16}rem;
  border-radius: 50%;
  background: ${({theme:e,backgroundColor:t})=>e.colors[t]};
`,Be=({variant:e})=>{const t=`${e}600`;return n.default.createElement(wn,{backgroundColor:t})};Be.defaultProps={variant:"primary"},Be.propTypes={variant:r.default.oneOf(["alternative","danger","neutral","primary","secondary","success","warning"])};var On=Be;const Dt=({attribute:e,filter:t,onClick:a,operator:o,value:s})=>{const{formatMessage:i,formatDate:u,formatTime:l,formatNumber:d}=(0,P.useIntl)(),_=()=>{a(t)},{fieldSchema:p}=e,m=p?.mainField?.schema?.type||p.type;let g=s;if(m==="date"&&(g=u(s,{dateStyle:"full"})),m==="datetime"&&(g=u(s,{dateStyle:"full",timeStyle:"short"})),m==="time"){const[v,x]=s.split(":"),S=new Date;S.setHours(v),S.setMinutes(x),g=l(S,{numeric:"auto",style:"short"})}["float","integer","biginteger","decimal"].includes(m)&&(g=d(s)),e.metadatas.customInput&&e.metadatas.options&&(g=e.metadatas.options.find(x=>x.customValue===s)?.label||s);const b=`${e.metadatas.label||e.name} ${i({id:`components.FilterOptions.FILTER_TYPES.${o}`,defaultMessage:o})} ${o!=="$null"&&o!=="$notNull"?g:""}`;return n.default.createElement(c.Box,{padding:1},n.default.createElement(c.Tag,{onClick:_,icon:n.default.createElement(C.Cross,null)},b))};Dt.propTypes={attribute:r.default.shape({name:r.default.string.isRequired,fieldSchema:r.default.object.isRequired,metadatas:r.default.shape({label:r.default.string.isRequired,options:r.default.array,customInput:r.default.func}).isRequired}).isRequired,filter:r.default.object.isRequired,onClick:r.default.func.isRequired,operator:r.default.string.isRequired,value:r.default.string.isRequired};var $t=Dt;const qe=({filtersSchema:e})=>{const[{query:t},a]=Y(),o=s=>{const i=t.filters.$and.filter(u=>{const l=Object.keys(s)[0],d=Object.keys(s[l])[0],_=s[l][d];return u[l]?.[d]!==_});a({filters:{$and:i},page:1})};return t?.filters?.$and.map((s,i)=>{const u=Object.keys(s)[0],l=e.find(({name:m})=>m===u);if(!l)return null;if(l.fieldSchema.type==="relation"){const m=l.fieldSchema.mainField.name,g=s[u][m],b=Object.keys(g)[0],v=g[b];return n.default.createElement($t,{key:`${u}-${i}`,attribute:l,filter:s,onClick:o,operator:b,value:v})}const d=s[u],_=Object.keys(d)[0],p=d[_];return n.default.createElement($t,{key:`${u}-${i}`,attribute:l,filter:s,onClick:o,operator:_,value:p})})||null};qe.defaultProps={filtersSchema:[]},qe.propTypes={filtersSchema:r.default.arrayOf(r.default.shape({name:r.default.string.isRequired,metadatas:r.default.shape({label:r.default.string}),fieldSchema:r.default.shape({type:r.default.string,mainField:r.default.shape({name:r.default.string,type:r.default.string})})}))};var An=qe;const je=({label:e,onChange:t,options:a,type:o,value:s})=>{const{formatMessage:i}=(0,P.useIntl)();return o==="boolean"?n.default.createElement(c.Select,{"aria-label":e,onChange:t,value:s},n.default.createElement(c.Option,{value:"true"},"true"),n.default.createElement(c.Option,{value:"false"},"false")):o==="date"?n.default.createElement(c.DatePicker,{clearLabel:i({id:"clearLabel",defaultMessage:"Clear"}),ariaLabel:e,name:"datepicker",onChange:u=>t((0,Ot.default)(u,{representation:"date"})),onClear:()=>t(null),selectedDate:s?(0,wt.default)(s):null,selectedDateLabel:u=>`Date picker, current is ${u}`}):o==="datetime"?n.default.createElement(c.DateTimePicker,{clearLabel:i({id:"clearLabel",defaultMessage:"Clear"}),ariaLabel:e,name:"datetimepicker",onChange:u=>t(u?u.toISOString():null),onClear:()=>t(null),value:s?new Date(s):null,selectedDateLabel:u=>`Date picker, current is ${u}`,selectButtonTitle:i({id:"selectButtonTitle",defaultMessage:"Select"})}):o==="enumeration"?n.default.createElement(c.Select,{"aria-label":e,onChange:t,value:s},a.map(u=>n.default.createElement(c.Option,{key:u,value:u},u))):["float","integer","biginteger","decimal"].includes(o)?n.default.createElement(c.NumberInput,{"aria-label":e,name:"filter-value",onValueChange:t,value:s||0}):o==="time"?n.default.createElement(c.TimePicker,{"aria-label":e,onClear:()=>t(""),onChange:t,value:s,clearLabel:"Clear the selected time picker value"}):n.default.createElement(c.Field,null,n.default.createElement(c.FieldInput,{"aria-label":i({id:"app.utils.filter-value",defaultMessage:"Filter value"}),onChange:({target:{value:u}})=>t(u),value:s,size:"M"}))};je.defaultProps={label:"",options:[],value:""},je.propTypes={label:r.default.string,onChange:r.default.func.isRequired,options:r.default.arrayOf(r.default.string),type:r.default.string.isRequired,value:r.default.any};var Fn=je;const Dn=({fieldSchema:{type:e,mainField:t}})=>{switch(t?.schema?.type??e){case"email":case"text":case"enumeration":case"string":return[{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$eq",defaultMessage:"is"},value:"$eq"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$ne",defaultMessage:"is not"},value:"$ne"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$null",defaultMessage:"is null"},value:"$null"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notNull",defaultMessage:"is not null"},value:"$notNull"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$contains",defaultMessage:"contains (sensitive)"},value:"$contains"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notContains",defaultMessage:"not contains (sensitive)"},value:"$notContains"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$startsWith",defaultMessage:"starts with"},value:"$startsWith"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$endsWith",defaultMessage:"ends with"},value:"$endsWith"}];case"float":case"integer":case"biginteger":case"decimal":return[{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$eq",defaultMessage:"is"},value:"$eq"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$ne",defaultMessage:"is not"},value:"$ne"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$null",defaultMessage:"is null"},value:"$null"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notNull",defaultMessage:"is not null"},value:"$notNull"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$gt",defaultMessage:"is greater than"},value:"$gt"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$gte",defaultMessage:"is greater than or equal to"},value:"$gte"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$lt",defaultMessage:"is less than"},value:"$lt"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$lte",defaultMessage:"is less than or equal to"},value:"$lte"}];case"time":case"date":return[{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$eq",defaultMessage:"is"},value:"$eq"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$ne",defaultMessage:"is not"},value:"$ne"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$null",defaultMessage:"is null"},value:"$null"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notNull",defaultMessage:"is not null"},value:"$notNull"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$contains",defaultMessage:"contains (sensitive)"},value:"$contains"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notContains",defaultMessage:"not contains (sensitive)"},value:"$notContains"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$gt",defaultMessage:"is greater than"},value:"$gt"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$gte",defaultMessage:"is greater than or equal to"},value:"$gte"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$lt",defaultMessage:"is less than"},value:"$lt"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$lte",defaultMessage:"is less than or equal to"},value:"$lte"}];case"datetime":return[{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$eq",defaultMessage:"is"},value:"$eq"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$ne",defaultMessage:"is not"},value:"$ne"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$null",defaultMessage:"is null"},value:"$null"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notNull",defaultMessage:"is not null"},value:"$notNull"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$gt",defaultMessage:"is greater than"},value:"$gt"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$gte",defaultMessage:"is greater than or equal to"},value:"$gte"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$lt",defaultMessage:"is less than"},value:"$lt"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$lte",defaultMessage:"is less than or equal to"},value:"$lte"}];default:return[{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$eq",defaultMessage:"is"},value:"$eq"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$ne",defaultMessage:"is not"},value:"$ne"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$null",defaultMessage:"is null"},value:"$null"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notNull",defaultMessage:"is not null"},value:"$notNull"}]}};var Ue=Dn;const We=({displayedFilters:e,isVisible:t,onBlur:a,onToggle:o,source:s})=>{const[{query:i},u]=Y(),{formatMessage:l}=(0,P.useIntl)(),{trackUsage:d}=K(),_={fieldSchema:{type:"string"}},[p,m]=(0,n.useState)({name:e[0]?.name||"",filter:Ue(e[0]||_)[0].value,value:""});if(!t||e.length===0)return null;const g=E=>{const I=e.find(G=>G.name===E),{fieldSchema:{type:M,options:D}}=I;let R="";M==="boolean"&&(R="true"),M==="enumeration"&&(R=D?.[0]);const W=Ue(I)[0].value;m({name:E,filter:W,value:R})},b=E=>{E.preventDefault();const I=i?.filters?.$and.find(M=>M[p.name]&&M[p.name]?.[p.filter]===p.value)!==void 0;if(p.value&&!I){let M={[p.name]:{[p.filter]:p.value}};const D=e.find(({name:G})=>G===p.name),R=D.fieldSchema.type;D.trackedEvent&&d(D.trackedEvent.name,D.trackedEvent.properties),R==="relation"&&(M={[p.name]:{[D.fieldSchema.mainField.name]:{[p.filter]:p.value}}});const W=[...i?.filters?.$and||[],M];u({filters:{$and:W},page:1})}o()},v=E=>{if(E==="$null"||E==="$notNull"){m(I=>({...I,value:"true",filter:E}));return}m(I=>({...I,filter:E,value:""}))},x=e.find(E=>E.name===p.name),S=p.filter,L=x.metadatas.customOperators||Ue(x),T=x.metadatas.customInput||Fn;return n.default.createElement(c.Popover,{source:s,padding:3,spacing:4,onBlur:a},n.default.createElement(c.FocusTrap,{onEscape:o},n.default.createElement("form",{onSubmit:b},n.default.createElement(c.Flex,{direction:"column",alignItems:"stretch",gap:1,style:{minWidth:184}},n.default.createElement(c.Box,null,n.default.createElement(c.Select,{"aria-label":l({id:"app.utils.select-field",defaultMessage:"Select field"}),name:"name",size:"M",onChange:g,value:p.name},e.map(E=>n.default.createElement(c.Option,{key:E.name,value:E.name},E.metadatas.label)))),n.default.createElement(c.Box,null,n.default.createElement(c.Select,{"aria-label":l({id:"app.utils.select-filter",defaultMessage:"Select filter"}),name:"filter",size:"M",value:p.filter,onChange:v},L.map(E=>n.default.createElement(c.Option,{key:E.value,value:E.value},l(E.intlLabel))))),S!=="$null"&&S!=="$notNull"&&n.default.createElement(c.Box,null,n.default.createElement(T,{...x.metadatas,...x.fieldSchema,value:p.value,onChange:E=>m(I=>({...I,value:E}))})),n.default.createElement(c.Box,null,n.default.createElement(c.Button,{size:"L",variant:"secondary",startIcon:n.default.createElement(C.Plus,null),type:"submit",fullWidth:!0},l({id:"app.utils.add-filter",defaultMessage:"Add filter"})))))))};We.defaultProps={onBlur(){}},We.propTypes={displayedFilters:r.default.arrayOf(r.default.shape({name:r.default.string.isRequired,metadatas:r.default.shape({label:r.default.string}),fieldSchema:r.default.shape({type:r.default.string}),trackedEvent:r.default.shape({name:r.default.string.isRequired,properties:r.default.object})})).isRequired,isVisible:r.default.bool.isRequired,onBlur:r.default.func,onToggle:r.default.func.isRequired,source:r.default.shape({current:r.default.instanceOf(Element)}).isRequired};var $n=We,Nn=e=>{var t={};return k.d(t,e),t},ai=e=>()=>e,Nt=Nn({Form:()=>Xe.Form,useFormikContext:()=>Xe.useFormikContext});const Bn=e=>{const t=(0,n.useRef)(null),{isSubmitting:a,isValidating:o,errors:s,touched:i}=(0,Nt.useFormikContext)();return(0,n.useEffect)(()=>{if(a&&!o){const u=t.current.querySelectorAll("[data-strapi-field-error]");if(u.length>0){const d=u[0].getAttribute("id"),_=t.current.querySelector(`[aria-describedby="${d}"]`);_&&_.focus()}}if(!a&&!o&&Object.keys(s).length){const u=document.getElementById("global-form-error");u&&u.focus()}},[s,a,o,i]),n.default.createElement(Nt.Form,{ref:t,...e,noValidate:!0})};var qn=Bn;const Bt=({pagination:{pageCount:e}})=>{const[{query:t}]=Y(),a=parseInt(t?.page||"1",10),{pathname:o}=(0,A.useLocation)(),{formatMessage:s}=(0,P.useIntl)(),i=L=>(0,me.stringify)({...t,page:L},{encode:!1}),u=i(a+(e>1?1:0)),l=i(a-1),d=[n.default.createElement(c.PageLink,{as:A.NavLink,key:1,number:1,to:`${o}?${i(1)}`},s({id:"components.pagination.go-to",defaultMessage:"Go to page {page}"},{page:1}))];if(e<=4){const L=Array.from({length:e}).map((T,E)=>E+1).map(T=>n.default.createElement(c.PageLink,{as:A.NavLink,key:T,number:T,to:`${o}?${i(T)}`},s({id:"components.pagination.go-to",defaultMessage:"Go to page {page}"},{page:T})));return n.default.createElement(c.Pagination,{activePage:a,pageCount:e},n.default.createElement(c.PreviousLink,{as:A.NavLink,to:`${o}?${l}`},s({id:"components.pagination.go-to-previous",defaultMessage:"Go to previous page"})),L,n.default.createElement(c.NextLink,{as:A.NavLink,to:`${o}?${u}`},s({id:"components.pagination.go-to-next",defaultMessage:"Go to next page"})))}let _=[],p=[],m=[];const g=[];e>1&&p.push(n.default.createElement(c.PageLink,{as:A.NavLink,key:e,number:e,to:`${o}?${i(e)}`},s({id:"components.pagination.go-to",defaultMessage:"Go to page {page}"},{page:e}))),a===1&&e>=3&&(_=[2]),a===2&&e>=3&&(e===5?_=[2,3,4]:e===3?_=[2]:_=[2,3]),a===4&&e>=3&&(_=[2]),a===e&&e>=3&&(m=[e-1]),a===e-2&&e>3&&(m=[a+1,a,a-1]),a===e-3&&e>3&&a>5&&(m=[a+2,a+1,a,a-1]),a===e-1&&e>3&&(m=[a,a-1]),m.forEach(L=>{p.unshift(n.default.createElement(c.PageLink,{as:A.NavLink,key:L,number:L,to:`${o}?${i(L)}`},"Go to page ",L))}),_.forEach(L=>{d.push(n.default.createElement(c.PageLink,{as:A.NavLink,key:L,number:L,to:`${o}?${i(L)}`},s({id:"components.pagination.go-to",defaultMessage:"Go to page {page}"},{page:L})))}),![1,2].includes(a)&&a<=e-3&&d.length+p.length<6&&[a-1,a,a+1].forEach(T=>{g.push(n.default.createElement(c.PageLink,{as:A.NavLink,key:T,number:T,to:`${o}?${i(T)}`},s({id:"components.pagination.go-to",defaultMessage:"Go to page {page}"},{page:T})))});const b=e>5||e===5&&(a===1||a===5),v=g.length>2&&a>4&&e>5,x=v?e-a-1:e-d.length-p.length,S=v?e-d.length-p.length:e-a-1;return n.default.createElement(c.Pagination,{activePage:a,pageCount:e},n.default.createElement(c.PreviousLink,{as:A.NavLink,to:`${o}?${l}`},s({id:"components.pagination.go-to-previous",defaultMessage:"Go to previous page"})),d,v&&n.default.createElement(c.Dots,null,s({id:"components.pagination.remaining-links",defaultMessage:"And {number} other links"},{number:x})),g,b&&n.default.createElement(c.Dots,null,s({id:"components.pagination.remaining-links",defaultMessage:"And {number} other links"},{number:S})),p,n.default.createElement(c.NextLink,{as:A.NavLink,to:`${o}?${u}`},s({id:"components.pagination.go-to-next",defaultMessage:"Go to next page"})))};Bt.propTypes={pagination:r.default.shape({pageCount:r.default.number.isRequired}).isRequired};var jn=Bt;const Ye=({trackedEvent:e,options:t,defaultValue:a})=>{const{formatMessage:o}=(0,P.useIntl)(),[{query:s},i]=Y(),{trackUsage:u}=K(),l=_=>{e&&u(e),i({pageSize:_,page:1})},d=s?.pageSize||a;return n.default.createElement(c.Flex,null,n.default.createElement(c.Select,{size:"S","aria-label":o({id:"components.PageFooter.select",defaultMessage:"Entries per page"}),onChange:l,value:d},t.map(_=>n.default.createElement(c.Option,{key:_,value:_},_))),n.default.createElement(c.Box,{paddingLeft:2},n.default.createElement(c.Typography,{textColor:"neutral600",as:"label",htmlFor:"page-size"},o({id:"components.PageFooter.select",defaultMessage:"Entries per page"}))))};Ye.defaultProps={trackedEvent:null,options:["10","20","50","100"],defaultValue:"10"},Ye.propTypes={trackedEvent:r.default.string,options:r.default.arrayOf(r.default.string.isRequired),defaultValue:r.default.string};var Un=Ye,Wn=e=>{var t={};return k.d(t,e),t},ri=e=>()=>e,qt=Wn({intervalToDuration:()=>Ke.intervalToDuration,isPast:()=>Ke.isPast});const jt=({timestamp:e})=>{const{formatRelativeTime:t,formatDate:a,formatTime:o}=(0,P.useIntl)(),s=(0,qt.intervalToDuration)({start:e,end:Date.now()}),i=["years","months","days","hours","minutes","seconds"].find(l=>s[l]>0&&Object.keys(s).includes(l)),u=(0,qt.isPast)(e)?-s[i]:s[i];return n.default.createElement("time",{dateTime:e.toISOString(),title:`${a(e)} ${o(e)}`},t(u,i,{numeric:"auto"}))};jt.propTypes={timestamp:r.default.instanceOf(Date).isRequired};var Yn=jt;function Qn(e){return(0,n.useEffect)(()=>{},[]),n.default.createElement(c.DateTimePicker,{...e})}var Gn=e=>{var t={};return k.d(t,e),t},ni=e=>()=>e,Ut=Gn({components:()=>Je.components,default:()=>Je.default});const zn=(0,U.default)(c.Box)`
  background: transparent;
  border: none;
  position: relative;
  z-index: 1;

  svg {
    height: ${11/16}rem;
    width: ${11/16}rem;
  }

  svg path {
    fill: ${({theme:e})=>e.colors.neutral600};
  }
`;var Wt=zn;const Vn=e=>{const t=Ut.components.ClearIndicator;return n.default.createElement(t,{...e},n.default.createElement(Wt,{as:"button",type:"button"},n.default.createElement(C.Cross,null)))};var Hn=Vn;const Xn=(0,U.default)(Wt)`
  display: flex;
  background: none;
  border: none;

  svg {
    width: ${9/16}rem;
  }
`,Kn=({innerRef:e,innerProps:t})=>n.default.createElement(Xn,{ref:e,paddingRight:3,...t},n.default.createElement(C.CarretDown,null));var Jn=Kn;const Zn=()=>null;var eo=Zn;const to=(e,t)=>({clearIndicator:a=>({...a,padding:0,paddingRight:e.spaces[3]}),container:a=>({...a,background:e.colors.neutral0,lineHeight:"normal"}),control(a,o){let s=e.colors.neutral200,i,u;return o.isFocused?(s=e.colors.primary600,i=e.colors.primary600):t&&(s=e.colors.danger600),o.isDisabled&&(u=`${e.colors.neutral150} !important`),{...a,fontSize:e.fontSizes[2],height:40,border:`1px solid ${s} !important`,outline:0,backgroundColor:u,borderRadius:e.borderRadius,boxShadow:i?`${i} 0px 0px 0px 2px`:0}},indicatorContainer:a=>({...a,padding:0,paddingRight:e.spaces[3]}),input:a=>({...a,margin:0,padding:0,color:e.colors.neutral800,gridTemplateColumns:"0 100%"}),menu(a){return{...a,width:"100%",marginTop:e.spaces[1],backgroundColor:e.colors.neutral0,color:e.colors.neutral800,borderRadius:e.borderRadius,border:`1px solid ${e.colors.neutral200}`,boxShadow:e.shadows.tableShadow,fontSize:e.fontSizes[2],zIndex:2}},menuList:a=>({...a,paddingLeft:e.spaces[1],paddingTop:e.spaces[1],paddingRight:e.spaces[1],paddingBottom:e.spaces[1]}),menuPortal:a=>({...a,zIndex:100}),option(a,o){let s=a.backgroundColor;return(o.isFocused||o.isSelected)&&(s=e.colors.primary100),{...a,color:e.colors.neutral800,lineHeight:e.spaces[5],backgroundColor:s,borderRadius:e.borderRadius,"&:active":{backgroundColor:e.colors.primary100}}},placeholder:a=>({...a,color:e.colors.neutral600,marginLeft:0,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"80%"}),singleValue(a,o){let s=e.colors.neutral800;return o.isDisabled&&(s=e.colors.neutral600),{...a,marginLeft:0,color:s}},valueContainer:a=>({...a,cursor:"pointer",padding:0,paddingLeft:e.spaces[4],marginLeft:0,marginRight:0})});var ao=to;const Qe=({components:e,styles:t,error:a,ariaErrorMessage:o,...s})=>{const i=(0,U.useTheme)(),u=ao(i,a);return n.default.createElement(Ut.default,{menuPosition:"fixed",components:{ClearIndicator:Hn,DropdownIndicator:Jn,IndicatorSeparator:eo,LoadingIndicator:()=>null,...e},"aria-errormessage":a&&o,"aria-invalid":!!a,styles:{...u,...t},...s})};var ro=Qe;Qe.defaultProps={ariaErrorMessage:void 0,components:void 0,error:void 0,styles:void 0},Qe.propTypes={ariaErrorMessage:r.default.string,components:r.default.object,error:r.default.string,styles:r.default.object};var no=ro,oo=e=>{var t={};return k.d(t,e),t},oi=e=>()=>e,Yt=oo({Link:()=>Ze.Link,LinkButton:()=>Ze.LinkButton});const so=e=>n.default.createElement(Yt.Link,{...e,as:A.NavLink});var lo=so;const io=e=>n.default.createElement(Yt.LinkButton,{...e,as:A.NavLink});var uo=io;const co=(0,U.default)(c.IconButton)(({theme:e})=>`
  border-radius: ${Q(30)};
  width: ${Q(20)};
  height: ${Q(20)};
  padding: ${Q(3)};
  align-items: center;
  justify-content: center;
  svg {
    width: ${Q(8)};
    rect {
      fill: ${e.colors.primary600}
    }
  }
`),fo=e=>n.default.createElement(co,{icon:n.default.createElement(C.Minus,null),...e});var po=fo;const _o=(0,n.createContext)();var Qt=_o;const mo=()=>(0,n.useContext)(Qt);var go=mo;const vo=e=>e&&e.startsWith("/")?`${strapi.backendURL}${e}`:e;var Eo=vo;const ho=(e,t)=>Object.keys(e).reduce((a,o)=>(a[`${t}.${o}`]=e[o],a),{});var bo=ho;const yo=(e,t)=>e.then(function(a){return[null,a]}).catch(function(a){return t&&Object.assign(a,t),[a,void 0]});var xo=yo;const To=(e,t)=>`${e}${Math.floor(t*255).toString(16).padStart(2,0)}`;var ko=To;const Lo={email:"components.Input.error.validation.email",json:"components.Input.error.validation.json",lowercase:"components.Input.error.validation.lowercase",max:"components.Input.error.validation.max",maxLength:"components.Input.error.validation.maxLength",min:"components.Input.error.validation.min",minLength:"components.Input.error.validation.minLength",regex:"components.Input.error.validation.regex",required:"components.Input.error.validation.required",unique:"components.Input.error.validation.unique",integer:"component.Input.error.validation.integer"};var So=Lo;const Ro=(e,t,a)=>{const o=(s,i)=>Object.keys(s).reduce((u,l)=>{const d=ie(i,l),_=(0,H.default)(s,l),p=X(i,[l,"component"]),m=X(i,[l,"repeatable"]);if(d==="json"&&_!==void 0)return u[l]=JSON.stringify(_,null,2),u;if(!_)return u[l]=_,u;if(d==="dynamiczone")return u[l]=_.map(g=>o(g,a[g.__component])),u;if(d==="component"){let g;return m?g=_.map((b,v)=>{const x={...b,__temp_key__:v};return o(x,a[p])}):g=o(_,a[p]),u[l]=g,u}return u[l]=_,u},{});return o(e,t)};var Co=Ro;const Po=["createdBy","updatedBy","publishedAt","id","_id"],Io=(e,t,a,o=Po)=>{const s=(i,u)=>Object.keys(i).reduce((l,d)=>{const _=ie(u,d),p=(0,H.default)(i,d),m=X(u,[d,"component"]),g=X(u,[d,"repeatable"]);let b=(0,H.default)(u,["options","timestamps"]);return Array.isArray(b)||(b=[]),[...o,...b].indexOf(d)!==-1?(delete l[d],l):p?_==="dynamiczone"?(l[d]=p.map(v=>s(v,a[v.__component])),l):(_==="component"&&(g?l[d]=p.map(v=>s(v,a[m])):l[d]=s(p,a[m])),l):l},Object.assign({},i));return s(e,t)};var Mo=Io;const wo=e=>e&&e[0]==="."?e.substr(1):e;var Oo=wo;const Gt={onClick:e=>e.stopPropagation(),role:"button","aria-hidden":!0},Ao=({fn:e,condition:t=!0})=>{if(t)return{style:{cursor:"pointer"},onClick:e}},Fo=()=>n.default.createElement("div",{...Gt});var Do=e=>{var t={};return k.d(t,e),t},si=e=>()=>e,$o=Do({default:()=>_a.default}),No=e=>{var t={};return k.d(t,e),t},li=e=>()=>e,zt=No({default:()=>ma.default});function Bo(e,t){function a(o,s){return(0,pt.default)(o,function(i,u,l){(0,$o.default)(u,s[l])||(i[l]=(0,zt.default)(u)&&(0,zt.default)(s[l])?a(u,s[l]):u)})}return a(e,t)}var qo=Bo;function jo(e){return e}var Uo=jo,Wo=e=>{var t={};return k.d(t,e),t},ii=e=>()=>e,Yo=Wo({default:()=>ga.default});const Qo="[@strapi/helper-plugin]:",Go=e=>{const t=e;let a=!1;if(typeof t!="function")throw new TypeError(`${Qo} once requires a function parameter`);return(...o)=>{a||(t(...o),a=!0)}};function Vt(e){return e.json?e.json():e}function zo(e,t=!0){return e.status>=200&&e.status<300||e.status===0?e:(e.status===401&&V.getToken()&&t&&(V.clearAppStorage(),window.location.reload()),Vt(e).then(a=>{const o=new Error(e.statusText);throw o.response=e,o.response.payload=a,o}).catch(()=>{const a=new Error(e.statusText);throw a.response=e,a}))}function Vo(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function Ht(e){return new Promise(t=>{fetch(`${strapi.backendURL}/_health`,{method:"HEAD",mode:"no-cors",headers:{"Content-Type":"application/json","Keep-Alive":!1}}).then(a=>{if(a.status>=400)throw new Error("not available");t(e)}).catch(()=>{setTimeout(()=>Ht(e).then(t),100)})})}const Ho=Go(console.warn);function Xo(...e){let[t,a={},o,s=!0,...i]=e,u;Ho("The `request` function is deprecated and will be removed in the next major version. Please use `useFetchClient` instead.");try{[{noAuth:u}]=i}catch{u=!1}a.headers||(a.headers=Object.assign({"Content-Type":"application/json"},a.headers));const l=V.getToken();if(l&&!u&&(a.headers=Object.assign({Authorization:`Bearer ${l}`},a.headers)),t=(0,Yo.default)(t,"/")?`${strapi.backendURL}${t}`:t,a&&a.params){const d=Vo(a.params);t=`${t}?${d}`}return a&&a.body&&s&&(a.body=JSON.stringify(a.body)),fetch(t,a).then(zo).then(Vt).then(d=>o?Ht(d):d)}function Ko(e,{getTrad:t}){const a=pe(e,t);return a?.errors?a.errors.reduce((o,s)=>(o[s.values.path]={id:s.id,defaultMessage:s.defaultMessage},o),{}):a.defaultMessage}const Jo=(e,t)=>!e||!t?{}:{[e]:t[e]},Zo=e=>(e?.inner||[]).reduce((t,a)=>(t[a.path.split("[").join(".").split("]").join("")]={id:a.message,defaultMessage:a.message,values:Jo(a?.type,a?.params)},t),{});var es=Zo,ts=f.Hn,as=f.NY,rs=f.Uu,ns=f.O4,os=f.jW,ss=f.QH,ls=f.Y_,is=f.W1,us=f.MG,cs=f.xZ,ds=f.tM,fs=f.c4,ps=f.x7,_s=f.W$,ms=f.J5,gs=f.l0,vs=f.jm,Es=f.Zc,hs=f.XL,bs=f.rt,ys=f.rU,xs=f.Qj,Ts=f.dO,ks=f.dJ,Ls=f.Hz,Ss=f.ZF,Rs=f.X0,Cs=f.cJ,Ps=f.N$,Is=f.vG,Ms=f.v4,ws=f.tU,Os=f.oL,As=f.JV,Fs=f.ij,Ds=f.fG,$s=f.m,Ns=f.SL,Bs=f.fz,qs=f.qb,js=f.t3,Us=f._Y,Ws=f.Ui,Ys=f.L8,Qs=f.I8,Gs=f.w6,zs=f.e5,Vs=f.ZT,Hs=f.dU,Xs=f.nn,Ks=f.tg,Js=f.mD,Zs=f.k2,el=f.UN,tl=f.CJ,al=f.qX,rl=f.OT,nl=f.X7,ol=f.CR,sl=f.jV,ll=f.Q1,il=f.WY,ul=f.YB,cl=f.UW,dl=f.to,fl=f.I0,pl=f.So,_l=f.QI,ml=f.Vu,gl=f.Wq,vl=f.Xe,El=f.mZ,hl=f.kY,bl=f.L0,yl=f.go,xl=f.c1,Tl=f.yX,kl=f.F5,Ll=f.lm,Sl=f.o1,Rl=f.Yw,Cl=f.aM,Pl=f.Kx,Il=f.ss,Ml=f.vn,wl=f.Uq,Ol=f.j1,Al=f.rS,Fl=f.Od;export{ts as AnErrorOccurred,as as AppInfosContext,rs as AutoReloadOverlayBockerContext,ns as CheckPagePermissions,os as CheckPermissions,ss as ConfirmDialog,ls as ContentBox,is as ContentManagerEditViewDataManagerContext,us as CustomFieldsProvider,cs as DateTimePicker,ds as DynamicTable,fs as EmptyBodyTable,ps as EmptyStateLayout,_s as FilterListURLQuery,ms as FilterPopoverURLQuery,gs as Form,vs as GenericInput,Es as GuidedTourProvider,hs as InjectionZone,bs as LibraryProvider,ys as Link,xs as LinkButton,Ts as LoadingIndicatorPage,ks as NoContent,Ls as NoMedia,Ss as NoPermissions,Rs as NotAllowedInput,Cs as NotificationsContext,Ps as NotificationsProvider,Is as OverlayBlockerContext,Ms as PageSizeURLQuery,ws as PaginationURLQuery,Os as RBACProviderContext,As as ReactSelect,Fs as RelativeTime,Ds as RemoveRoundedButton,$s as SearchURLQuery,Ns as SettingsPageTitle,Bs as SortIcon,qs as Status,js as StopPropagation,Us as StrapiAppProvider,Ws as TrackingContext,Ys as TrackingProvider,Qs as auth,Gs as contentManagementUtilRemoveFieldsFromData,zs as difference,Vs as findMatchingPermissions,Hs as formatContentTypeData,Xs as getAPIInnerErrors,Ks as getFetchClient,Js as getFileExtension,Zs as getOtherInfos,el as getType,tl as getYupInnerErrors,al as hasPermissions,rl as normalizeAPIError,nl as onRowClick,ol as prefixFileUrlWithBackendUrl,sl as prefixPluginTranslations,ll as pxToRem,il as request,ul as setHexOpacity,cl as stopPropagation,dl as to,fl as translatedErrors,pl as useAPIErrorHandler,_l as useAppInfos,ml as useAutoReloadOverlayBlocker,gl as useCMEditViewDataManager,vl as useCollator,El as useCustomFields,hl as useFetchClient,bl as useFilter,yl as useFocusWhenNavigate,xl as useGuidedTour,Tl as useLibrary,kl as useLockScroll,Ll as useNotification,Sl as useOverlayBlocker,Rl as usePersistentState,Cl as useQuery,Pl as useQueryParams,Il as useRBAC,Ml as useRBACProvider,wl as useSelectionState,Ol as useStrapiApp,Al as useTracking,Fl as wrapAxiosInstance};
